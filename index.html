<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>–ù–æ–≤—ã–π –ì–æ–¥ - AR –ü—Ä–æ—Å–º–æ—Ç—Ä</title>

    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
    <script src="JS_library/aframe.min.js"></script>
    <script src="JS_library/aframe-extras.min.js"></script>
    <script src="JS_library/aframe-ar.js"></script>

    <!-- GUI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <script src="https://unpkg.com/aframe-gui@1.1.2/build/aframe-gui.min.js"></script>

    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

    <!-- –ù–∞—à —Å–∫—Ä–∏–ø—Ç -->
    <script src="script.js"></script>
</head>

<body>
    <!-- AR –°—Ü–µ–Ω–∞ -->
    <a-scene id="arScene" vr-mode-ui="enabled: false"
        arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;"
        renderer="antialias: true; alpha: false; precision: medium;" embedded gui-interactable>

        <!-- 3D –ú–æ–¥–µ–ª—å -->
        <a-entity id="arModel" gltf-model="#busModel" scale="0.1 0.1 0.1" position="0 0 -2" rotation="0 0 0"
            class="clickable" gesture-handler="minScale: 0.05; maxScale: 0.5">
        </a-entity>

        <!-- –ö–∞–º–µ—Ä–∞ -->
        <a-entity camera look-controls="enabled: false"></a-entity>

        <!-- UI —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Å—Ü–µ–Ω–µ -->
        <a-entity id="arUI" position="0 -1 -2">
            <!-- –ö–Ω–æ–ø–∫–∞ –≤—Ä–∞—â–µ–Ω–∏—è -->
            <a-ring id="rotateRing" color="#FF3366" opacity="0.3" radius-inner="0.4" radius-outer="0.5"
                rotation="90 0 0" class="clickable">
            </a-ring>

            <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è -->
            <a-ring id="moveRing" color="#3366FF" opacity="0.3" radius-inner="0.6" radius-outer="0.7" rotation="90 0 0"
                class="clickable">
            </a-ring>
        </a-entity>

        <!-- –ú–∞—Ä–∫–µ—Ä –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è AR.js) -->
        <a-marker id="placementMarker" preset="hiro" visible="false">
            <a-box position="0 0.5 0" material="color: green; opacity: 0.5" scale="0.2 0.2 0.2"></a-box>
        </a-marker>

        <!-- –ê—Å—Å–µ—Ç—ã -->
        <a-assets>
            <a-asset-item id="busModel" src="models/–Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –∞–≤—Ç–æ–±—É—Å V2.glb"></a-asset-item>
        </a-assets>
    </a-scene>

    <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
    <header class="header">
        <h1 id="title">–° –ù–æ–≤—ã–º –ì–æ–¥–æ–º!</h1>
    </header>

    <div class="controls">
        <button id="ModelButton">–í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å</button>
        <button id="PlaceButton">üìç –†–∞–∑–º–µ—Å—Ç–∏—Ç—å</button>
        <button id="ResetButton">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
        <button id="ShotButton">üì∏ –§–æ—Ç–æ</button>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π -->
    <div id="instructions" class="modal">
        <div class="modal-content">
            <h3>üì± –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AR</h3>
            <p>‚Ä¢ <strong>–í—Ä–∞—â–µ–Ω–∏–µ:</strong> –î–≤–∏–≥–∞–π—Ç–µ –ø–∞–ª–µ—Ü –ø–æ –∫—Ä–∞—Å–Ω–æ–º—É –∫–æ–ª—å—Ü—É</p>
            <p>‚Ä¢ <strong>–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ:</strong> –î–≤–∏–≥–∞–π—Ç–µ –ø–∞–ª–µ—Ü –ø–æ —Å–∏–Ω–µ–º—É –∫–æ–ª—å—Ü—É</p>
            <p>‚Ä¢ <strong>–ú–∞—Å—à—Ç–∞–±:</strong> –î–≤–∞ –ø–∞–ª—å—Ü–∞ - —Å–≤–µ–¥–µ–Ω–∏–µ/—Ä–∞–∑–≤–µ–¥–µ–Ω–∏–µ</p>
            <p>‚Ä¢ <strong>–§–æ—Ç–æ:</strong> –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üì∏ –§–æ—Ç–æ"</p>
            <button id="closeInstructions">–ü–æ–Ω—è—Ç–Ω–æ</button>
        </div>
    </div>
</body>

</html>